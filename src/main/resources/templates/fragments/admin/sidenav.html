<div id="layoutSidenav_nav" th:fragment="sidenav">
  <nav class="sb-sidenav accordion sb-sidenav-dark" id="sidenavAccordion">
    <div class="sb-sidenav-menu">
      <div class="nav">

        <!-- ====== GESTIÓN ====== -->
        <th:block th:if="${session.opcionesMenu.containsKey('Gestión')}">
          <div class="sb-sidenav-menu-heading fs-6">Gestión</div>
          <th:block th:each="opt : ${session.opcionesMenu['Gestión']}">
            <a class="nav-link" th:href="@{${opt.url}}">
              <div class="sb-nav-link-icon">
                <i th:class="${ 
                      #strings.contains(opt.url,'dashboard') ? 'fas fa-tachometer-alt me-1' :
                      #strings.contains(opt.url,'plates') ? 'fas fa-utensils me-1' :
                      #strings.contains(opt.url,'schedule') ? 'fas fa-clock me-1' :
                      'fas fa-link me-1'
                }"></i>
              </div>
              <span th:text="${opt.nombre}">Opción Gestión</span>
            </a>
          </th:block>
        </th:block>

        <!-- ====== PERSONAL (colapsable) ====== -->
        <th:block th:if="${session.opcionesMenu.containsKey('Personal')}">
          <div class="sb-sidenav-menu-heading fs-6">Personal</div>
          <a class="nav-link collapsed" href="#"
             data-bs-toggle="collapse"
             th:attr="data-bs-target='#collapsePersonal'">
            <div class="sb-nav-link-icon"><i class="fas fa-users me-1"></i></div>
            <span>Personal</span>
            <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down me-1"></i></div>
          </a>
          <div class="collapse" id="collapsePersonal" data-bs-parent="#sidenavAccordion">
            <nav class="sb-sidenav-menu-nested nav">
              <th:block th:each="opt : ${session.opcionesMenu['Personal']}">
                <a class="nav-link" th:href="@{${opt.url}}">
                  <div class="sb-nav-link-icon">
                    <i th:class="${ 
                          #strings.contains(opt.url,'cooks')    ? 'fas fa-concierge-bell me-1' :
                          #strings.contains(opt.url,'deliverymen') ? 'fas fa-motorcycle me-1' :
                          'fas fa-link me-1'
                    }"></i>
                  </div>
                  <span th:text="${opt.nombre}">Opción Personal</span>
                </a>
              </th:block>
            </nav>
          </div>
        </th:block>

        <!-- ====== INFORMES ====== -->
        <th:block th:if="${session.opcionesMenu.containsKey('Informes')}">
          <div class="sb-sidenav-menu-heading fs-6">Informes</div>
          <th:block th:each="opt : ${session.opcionesMenu['Informes']}">
            <a class="nav-link" th:href="@{${opt.url}}">
              <div class="sb-nav-link-icon">
                <i th:class="${ 
                      #strings.contains(opt.url,'charts') ? 'fas fa-chart-area me-1' :
                      #strings.contains(opt.url,'tables') ? 'fas fa-table me-1' :
                      'fas fa-link me-1'
                }"></i>
              </div>
              <span th:text="${opt.nombre}">Opción Informes</span>
            </a>
          </th:block>
        </th:block>

      </div>
    </div>
    <div class="sb-sidenav-footer">
      <div class="small fw-bold">Logged in as:</div>
      <span th:if="${session.restaurante != null}"
            th:text="${session.restaurante.propietario.username}">usuario</span>
      <span th:if="${session.restaurante == null}">Unknown</span>
    </div>
  </nav>
</div>